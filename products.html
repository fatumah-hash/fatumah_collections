<!DOCTYPE html>
<html lang="en">
<head>
    <title>Products - Fatumah Collections</title>
    <link rel="stylesheet" href="lib/Styles/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta property="og:title" content="Products - Fatumah Collections">
    <meta property="og:description" content="Shop the best Innerwear, Bags, and Shoes in Uganda.">
    <meta property="og:image" content="https://fatumah-hash.github.io/fatumah_collections/images/logo1.jpg">
    <meta property="og:url" content="https://fatumah-hash.github.io/fatumah_collections/products.html">
    <link rel="icon" href="images/logo4.jpg">
</head>
<body>
  <header>
    <div class="sale-banner">
      ðŸ”¥ Good News! Invite a friend to buy and get 5% commission ðŸ”¥
    </div>
    <img src="images/logo1.jpg" alt="Fatumah Collections Logo" class="logo"/>
    <h1>FATUMAH COLLECTIONS UGANDA</h1>
  <nav>
      <a href="index.html">Home</a>
      <a href="products.html">Products</a>
      <a href="about.html">About Us</a>
      <a href="contact.html">Contact</a>
  </nav>
  <form action="#" class="search-form">
    <input type="search" name="search" placeholder="search Products....">
    <button type="submit"><i class="fa-solid fa-search"></i>search</button>
    <P class="error-message" style="display: none;">product not available or check spelling"</P>
  </form>
  </header>
<section class="products">
    <h2>FEATURED PRODUCTS</h2>
    <div class="filter-container">
      <button class="filter-btn active" data-filter="all">All</button>
      <button class="filter-btn" data-filter="innerwear">Innerwear</button>
      <button class="filter-btn" data-filter="bags">Bags</button>
      <button class="filter-btn" data-filter="shoes">Shoes</button>
      <button class="filter-btn" data-filter="Earrings">Earrings</button>
      <button class="filter-btn" data-filter="Perfumes">Perfumes</button>
    </div>
    <div class="product-grid">
      <div class="product-card" data-category="innerwear" id="product-1">
        <img src="images/nick2.jpg" alt="BEST INNERWEARS">
        <span class="discount">-5%</span>
        <h3>knickers Soft, colorful, and made to uplift your CONFIDENCE</h3>
        <p class="price">UGX 8,000<span class="old-price">UGX 11,000</span></p>
        <select class="size-selector">
          <option value="S">Size: S</option>
          <option value="M">Size: M</option>
          <option value="L">Size: L</option>
          <option value="XL">Size: XL</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>

      <div class="product-card" data-category="innerwear" id="product-2">
        <img src="images/nick2.jpg" alt="BEST INNERWEARS">
        <span class="discount">-5%</span>
        <h3>knickers Soft, colorful, and made to uplift your CONFIDENCE</h3>
        <p class="price">UGX 10,000<span class="old-price">UGX 11,000</span></p>
        <select class="size-selector">
          <option value="S">Size: S</option>
          <option value="M">Size: M</option>
          <option value="L">Size: L</option>
          <option value="XL">Size: XL</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>

      <div class="product-card" data-category="innerwear" id="product-3">
        <img src="images/nick3.jpg" alt="BEST INNERWEARS">
        <span class="discount">-5%</span>
        <h3>High Waist Tummy control knickers </h3>
        <p class="price">UGX 26,000<span class="old-price">UGX 30,000</span></p>
        <select class="size-selector">
          <option value="S">Size: S</option>
          <option value="M">Size: M</option>
          <option value="L">Size: L</option>
          <option value="XL">Size: XL</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>

      <div class="product-card" data-category="innerwear" id="product-4">
        <img src="images/nick4.jpg" alt="BEST INNERWEARS">
        <span class="discount">-5%</span>
        <h3>Cotton Knickers</h3>
        <p class="price">UGX 8,000<span class="old-price">UGX 11,000</span></p>
        <select class="size-selector">
          <option value="S">Size: S</option>
          <option value="M">Size: M</option>
          <option value="L">Size: L</option>
          <option value="XL">Size: XL</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>

      <div class="product-card" data-category="innerwear" id="product-5">
        <img src="images/nick5.jpg" alt="BEST INNERWEARS">
        <span class="discount">-5%</span>
        <h3>seamless High Waist knickers</h3>
        <p class="price">UGX 8,000<span class="old-price">UGX 11,000</span></p>
        <select class="size-selector">
          <option value="S">Size: S</option>
          <option value="M">Size: M</option>
          <option value="L">Size: L</option>
          <option value="XL">Size: XL</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>

      <div class="product-card" data-category="bags" id="product-6">
        <span class="discount">-10%</span>
        <img src="images/bag.jpg" alt="STYLISH BAG">
        <h3>Stylish Bag Carry your dreams with elegance and strength</h3>
        <p class="price">UGX 30,000<span class="old-price">UGX 55,000</span></p>
        <select class="size-selector">
          <option value="One Size">One Size</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      

      <div class="product-card" data-category="shoes" id="product-7">
        <img src="images/shoes.jpg" alt="BEST SHOES EVER">
        <span class="discount">-15%</span>
        <h3>Men shoes. Step into comfort and style with every stride.</h3>
        <p class="price">UGX 50,000 <span class="old-price">UGX 65,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>

      <!-- New Shoe Product Placeholder 1 -->
      <div class="product-card" data-category="shoes" id="product-8">
        <img src="images/sh4.jpg" alt="Timberland Shoe">
        <span class="discount">-2%</span>
        <h3>Closed Timberland shoe (original)</h3>
        <p class="price">UGX 85,000 <span class="old-price">UGX 105,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 2 -->
      <div class="product-card" data-category="shoes" id="product-9">
        <img src="images/sh7.jpg" alt="New Shoe">
        <span class="discount">-15%</span>
        <h3>HMRCENS Shoe For cool men</h3>
        <p class="price">UGX 60,000 <span class="old-price">UGX 65,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 3 -->
      <div class="product-card" data-category="shoes" id="product-10">
        <img src="images/sh5.jpg" alt="trendy">
        <span class="discount">0</span>
        <h3>Trendy and Stylish</h3>
        <p class="price">UGX 55,000 <span class="old-price">UGX 60,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 4 -->
      <div class="product-card" data-category="shoes" id="product-11">
        <img src="images/shoe11.jpg" alt="Y-3 original piece">
        <span class="discount">-2%</span>
        <h3>Y-3 original piece </h3>
        <p class="price">UGX 90,000 <span class="old-price">UGX 100,000</span></p></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 5 -->
      <div class="product-card" data-category="shoes" id="product-12">
        <img src="images/sho12.jpg" alt="CEMS">
        <span class="discount">-5%</span>
        <h3>CEMS for men where you confidance </h3>
        <p class="price">UGX 65,000 <span class="old-price">UGX 70,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 6 -->
      <div class="product-card" data-category="shoes" id="product-13">
        <img src="images/sh19.jpg" alt="Timberland">
        <span class="discount">-15%</span>
        <h3>Timberland/h3>
        <p class="price">UGX 85,000 <span class="old-price">UGX 115,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 7 -->
      <div class="product-card" data-category="shoes" id="product-14">
        <img src="images/sh9.jpg" alt="Rock me">
        <span class="discount">-5%</span>
        <h3>Nike </h3>
        <p class="price">UGX 75,000 <span class="old-price">UGX 80,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 8 -->
      <div class="product-card" data-category="shoes" id="product-15">
        <img src="images/sh17.jpg" alt="New Shoe">
        <span class="discount">-5%</span>
        <h3>Your step matters with quality and comfort</h3>
        <p class="price">UGX 50,000 <span class="old-price">UGX 65,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 9 -->
      <div class="product-card" data-category="shoes" id="product-16">
        <img src="images/sh10.jpg" alt="New Shoe">
        <span class="discount">-10%</span>
        <h3>step into comfort and style with every stride</h3>
        <p class="price">UGX 50,000</p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <!-- New Shoe Product Placeholder 10 -->
      <div class="product-card" data-category="shoes" id="product-17">
        <img src="images/sh13.jpg" alt="Rock me">
        <span class="discount">-5%</span>
        <h3>Nike </h3>
        <p class="price">UGX 75,000 <span class="old-price">UGX 80,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <div class="product-card" data-category="shoes" id="product-18">
        <img src="images/sh14.jpg" alt="Rock me">
        <span class="discount">-5%</span>
        <h3>Nike </h3>
        <p class="price">UGX 75,000 <span class="old-price">UGX 80,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <div class="product-card" data-category="shoes" id="product-19">
        <img src="images/sh15.jpg" alt="Rock me">
        <span class="discount">-5%</span>
        <h3>quality and comfort open shoes</h3>
        <p class="price">UGX 75,000 <span class="old-price">UGX 80,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <div class="product-card" data-category="shoes" id="product-20">
        <img src="images/sh8.jpg" alt="Rock me">
        <span class="discount">-5%</span>
        <h3>luxury Speaks by itself </h3>
        <p class="price">UGX 75,000 <span class="old-price">UGX 80,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <div class="product-card" data-category="shoes" id="product-21">
        <img src="images/sh1.jpg" alt="Rock me">
        <span class="discount">-5%</span>
        <h3>Nike </h3>
        <p class="price">UGX 75,000 <span class="old-price">UGX 80,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <div class="product-card" data-category="shoes" id="product-22">
        <img src="images/sh2.jpg" alt="Rock me">
        <span class="discount">-5%</span>
        <h3>Nike </h3>
        <p class="price">UGX 75,000 <span class="old-price">UGX 80,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>
      <div class="product-card" data-category="shoes" id="product-23">
        <img src="images/sh3.jpg" alt="Rock me">
        <span class="discount">-5%</span>
        <h3>Nike </h3>
        <p class="price">UGX 75,000 <span class="old-price">UGX 80,000</span></p>
        <select class="size-selector">
          <option value="39">Size: 39</option>
          <option value="40">Size: 40</option>
          <option value="41">Size: 41</option>
          <option value="42">Size: 42</option>
          <option value="43">Size: 43</option>
        </select>
        <div class="action-row">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn-share" onclick="shareProduct(this)" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i></button>
        </div>
      </div>

    </div>
  </section>

   <!-- Cart Floating Icon -->
   <div class="cart-float" onclick="toggleCart()">
     <i class="fa-solid fa-cart-shopping"></i>
     <span class="cart-count">0</span>
   </div>

   <!-- Cart Modal -->
   <div class="cart-modal" id="cartModal">
     <div class="cart-modal-content">
       <div style="display:flex; justify-content:space-between; align-items:center;">
         <h2>Your Cart</h2>
         <span style="font-size:24px; cursor:pointer;" onclick="toggleCart()">&times;</span>
       </div>
       <div id="cartItems"></div>
       
       <div style="margin-top: 10px; border-top: 1px solid #eee; padding-top: 10px;">
         <label for="deliveryZone" style="font-weight:bold; display:block; margin-bottom:5px;">Delivery Option:</label>
         <select id="deliveryZone" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 5px;" onchange="updateCartUI()">
            <option value="0">Pick Up from Store (Free)</option>
            <option value="3000">Within Mbale Town (UGX 3,000)</option>
            <option value="4000">Surrounding Areas (UGX 5,000)</option>
            <option value="5000">Other Districts (Bus/Courier) (UGX 15,000)</option>
         </select>
       </div>

       <div class="cart-total">Total: UGX <span id="cartTotal">0</span></div>
       <div style="margin-top: 15px;">
         <p id="referrer-info" style="color: #25D366; font-weight: bold; margin-bottom: 10px; display: none;"></p>
         <input type="text" id="customerName" placeholder="Your Name" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
         <input type="text" id="customerAddress" placeholder="Delivery Address / Location" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
         
         <label for="paymentMethod" style="display:block; margin-top:10px; font-weight:bold; margin-bottom:5px;">Payment Method:</label>
         <select id="paymentMethod" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;" onchange="togglePaymentDetails()">
            <option value="Mobile Money">Mobile Money (MTN/Airtel)</option>
         </select>
         
         <div id="momo-details" style="display:block; background:#f9f9f9; padding:10px; border-radius:5px; border:1px solid #eee; margin-bottom:10px; font-size:0.9em;">
            <p style="margin:0 0 5px 0;"><strong>Pay to:</strong></p>
            <div style="display:flex; align-items:center; justify-content:space-between;">
              <span>MTN: 256 748 218 177 (Fatumah)</span>
              <button type="button" onclick="copyPhoneNumber()" style="background-color:#FF1493; color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer; font-size:12px;">Copy</button>
            </div>
            <input type="text" id="transactionId" placeholder="Enter Transaction ID (if paid)" style="width: 100%; padding: 8px; margin-top: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
         </div>
       </div>
       <button class="btn" style="width:100%; margin-top:15px; background-color:#25D366; border-color:#25D366;" onclick="checkoutWhatsApp()">Checkout on WhatsApp</button>
     </div>
   </div>

   <!-- Referral Modal -->
   <div class="cart-modal" id="referralModal">
     <div class="cart-modal-content">
       <div style="display:flex; justify-content:space-between; align-items:center;">
         <h2>Create Referral Link</h2>
         <span style="font-size:24px; cursor:pointer;" onclick="closeReferralModal()">&times;</span>
       </div>
       <p>Enter your name to earn 5% commission when your friends buy!</p>
       <input type="text" id="referrerNameInput" placeholder="Your Name" oninput="updateShareLink()" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
       <a id="whatsappShareLink" class="btn" style="display:block; text-align:center; text-decoration:none; width:100%; background-color:#25D366; border-color:#25D366;" target="_blank" onclick="closeReferralModal()">Share on WhatsApp</a>
     </div>
   </div>

   <!-- Review Modal -->
   <div class="cart-modal" id="reviewModal">
     <div class="cart-modal-content">
       <div style="display:flex; justify-content:space-between; align-items:center;">
         <h2>Write a Review</h2>
         <span style="font-size:24px; cursor:pointer;" onclick="closeReviewModal()">&times;</span>
       </div>
       <input type="text" id="reviewName" placeholder="Your Name" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
       <select id="reviewRating" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
          <option value="5">â˜…â˜…â˜…â˜…â˜… (Excellent)</option>
          <option value="4">â˜…â˜…â˜…â˜…â˜† (Good)</option>
          <option value="3">â˜…â˜…â˜…â˜†â˜† (Average)</option>
          <option value="2">â˜…â˜…â˜†â˜†â˜† (Fair)</option>
          <option value="1">â˜…â˜†â˜†â˜†â˜† (Poor)</option>
       </select>
       <textarea id="reviewText" placeholder="Describe your experience..." rows="4" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;"></textarea>
       <button class="btn" style="width:100%; background-color:#25D366; border-color:#25D366;" onclick="submitReview()">Send Review via WhatsApp</button>
     </div>
   </div>

   <!-- Reviews Display Section -->
   <section class="reviews-section">
     <h2>Customer Reviews</h2>
     <div class="reviews-grid">
       <div class="review-card">
         <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
         <p>"I love the quality of the bags! Delivery was super fast within Kampala."</p>
         <span style="font-weight:bold; color:#555; display:block; margin-top:10px;">- Sarah K.</span>
       </div>
       <div class="review-card">
         <div class="stars">â˜…â˜…â˜…â˜…â˜†</div>
         <p>"The innerwear is very soft and comfortable. Highly recommend."</p>
         <span style="font-weight:bold; color:#555; display:block; margin-top:10px;">- Brenda M.</span>
       </div>
       <div class="review-card">
         <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
         <p>"Affordable prices and great customer service. Thank you Fatumah!"</p>
         <span style="font-weight:bold; color:#555; display:block; margin-top:10px;">- Joy L.</span>
       </div>
     </div>
     <button class="btn" onclick="openReviewModal()">Write a Review</button>
   </section>

   <!-- Toast Notification Container -->
   <div id="toast"></div>

   <!-- Back to Top Button -->
   <button onclick="topFunction()" id="backToTopBtn" title="Go to top">
     <i class="fa-solid fa-arrow-up"></i>
   </button>

   <script>
    const searchForm = document.querySelector('.search-form');
    const products = document.querySelectorAll('.product-card');
    const errorMessage = document.querySelector('.error-message');
    const filterBtns = document.querySelectorAll('.filter-btn');

    filterBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        filterBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        const filterValue = btn.getAttribute('data-filter');
        
        products.forEach(product => {
          if (filterValue === 'all' || product.getAttribute('data-category') === filterValue) {
            product.style.display = 'block';
          } else {
            product.style.display = 'none';
          }
        });
      });
    });
  
    searchForm.addEventListener('submit', function(event) {
      event.preventDefault();
      const searchquery = searchForm.search.value.toLowerCase();
      let productFound = false;

      products.forEach(function(product) {
        const productName = product.querySelector('h3').textContent.toLowerCase();
        if (productName.includes(searchquery)) {
          product.style.display = 'block';
          productFound = true;
        } else {
          product.style.display = 'none';
        }
      });

      if (!productFound) {
        errorMessage.style.display = 'block';
      } else {
        errorMessage.style.display = 'none';
      }
    });

    // --- Real-time Search (Filters as you type) ---
    searchForm.querySelector('input').addEventListener('input', function(e) {
      const searchquery = e.target.value.toLowerCase();
      let productFound = false;

      products.forEach(function(product) {
        const productName = product.querySelector('h3').textContent.toLowerCase();
        if (productName.includes(searchquery)) {
          product.style.display = 'block';
          productFound = true;
        } else {
          product.style.display = 'none';
        }
      });
      errorMessage.style.display = productFound ? 'none' : 'block';
    });

    // --- Shopping Cart Logic ---
    // 1. Load cart from LocalStorage if available, otherwise start empty
    let cart = JSON.parse(localStorage.getItem('fatumahCart')) || [];
    
    // 2. Update UI immediately on page load to show saved items
    updateCartUI();

    // --- Referral System: Check URL for referrer ---
    const urlParams = new URLSearchParams(window.location.search);
    const refUser = urlParams.get('ref');
    if (refUser) {
      localStorage.setItem('fatumahReferrer', decodeURIComponent(refUser));
      showToast(`Referred by ${decodeURIComponent(refUser)}`);
    }

    // --- Function to scroll to a product from URL hash ---
    function scrollToProduct() {
      // A short delay helps ensure all content is rendered, especially images
      setTimeout(() => {
        if (window.location.hash) {
          const elementId = window.location.hash.substring(1); // remove the '#'
          const element = document.getElementById(elementId);
          if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'center' });
            // Add a temporary highlight effect to draw attention
            element.style.transition = 'box-shadow 0.5s ease-in-out, transform 0.3s ease';
            element.style.boxShadow = '0 0 25px 8px #FF1493';
            element.style.transform = 'scale(1.02)';
            setTimeout(() => {
              element.style.boxShadow = '';
              element.style.transform = '';
            }, 3500); // Remove highlight after 3.5 seconds
          }
        }
      }, 500); // 500ms delay
    }
    scrollToProduct(); // Run the scroll function on page load

    function addToCart(button) {
      const card = button.closest('.product-card');
      const name = card.querySelector('h3').innerText;
      const priceText = card.querySelector('.price').childNodes[0].nodeValue; // Gets "UGX 8,000"
      const price = parseInt(priceText.replace(/[^0-9]/g, '')); // Converts to 8000

      // Get selected size
      const sizeSelect = card.querySelector('.size-selector');
      const size = sizeSelect ? sizeSelect.value : 'Standard';

      cart.push({ name, price, size });
      saveCart(); // Save to memory
      updateCartUI();
      showToast(name + " added to cart!");
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      saveCart(); // Save to memory
      updateCartUI();
    }

    // Helper function to save cart to browser memory
    function saveCart() {
      localStorage.setItem('fatumahCart', JSON.stringify(cart));
    }

    function updateCartUI() {
      document.querySelector('.cart-count').innerText = cart.length;
      
      const cartItemsContainer = document.getElementById('cartItems');
      const cartTotalElement = document.getElementById('cartTotal');
      const deliverySelect = document.getElementById('deliveryZone');
      const deliveryFee = deliverySelect ? parseInt(deliverySelect.value) : 0;
      
      cartItemsContainer.innerHTML = '';
      let total = 0;

      cart.forEach((item, index) => {
        total += item.price;
        cartItemsContainer.innerHTML += `
          <div class="cart-item">
            <span>${item.name} <br><small style="color:#888">Size: ${item.size}</small></span>
            <div style="display:flex; align-items:center;">
              <span>UGX ${item.price.toLocaleString()}</span>
              <span class="remove-btn" onclick="removeFromCart(${index})">&times;</span>
            </div>
          </div>
        `;
      });

      cartTotalElement.innerText = (total + deliveryFee).toLocaleString();
    }

    function toggleCart() {
      const modal = document.getElementById('cartModal');
      modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';

      // Show referrer info if it exists
      const referrer = localStorage.getItem('fatumahReferrer');
      const refInfo = document.getElementById('referrer-info');
      if (referrer && refInfo) {
        refInfo.style.display = 'block';
        refInfo.innerText = `Referred by: ${referrer}`;
      }
    }

    function togglePaymentDetails() {
      const method = document.getElementById('paymentMethod').value;
      const details = document.getElementById('momo-details');
      details.style.display = method === 'Mobile Money' ? 'block' : 'none';
    }

    function copyPhoneNumber() {
      navigator.clipboard.writeText("0748218177").then(() => {
        showToast("Phone Number Copied!");
      });
    }

    function checkoutWhatsApp() {
      if (cart.length === 0) return showToast("Your cart is empty!");

      const name = document.getElementById('customerName').value;
      const address = document.getElementById('customerAddress').value;

      if (!name || !address) {
        return showToast("Please enter Name & Address!");
      }
      
      const paymentMethod = document.getElementById('paymentMethod').value;
      const transactionId = document.getElementById('transactionId').value;
      const deliverySelect = document.getElementById('deliveryZone');
      const deliveryFee = deliverySelect ? parseInt(deliverySelect.value) : 0;
      const deliveryText = deliverySelect.options[deliverySelect.selectedIndex].text;
      
      // Check for referrer
      const referrer = localStorage.getItem('fatumahReferrer');

      let message = `*NEW ORDER*\n\n*Customer Name:* ${name}\n*Delivery Location:* ${address}\n*Payment Method:* ${paymentMethod}\n`;
      
      if (transactionId) {
        message += `*Transaction ID:* ${transactionId} (Payment Made)\n`;
      }

      if (referrer) {
        message += `*Referred By:* ${referrer} (5% Commission Due)\n`;
      }
      message += `\n*Order Details:*\n`;
      let total = 0;
      
      cart.forEach(item => {
        message += `- ${item.name} [Size: ${item.size}] (UGX ${item.price.toLocaleString()})\n`;
        total += item.price;
      });
      
      message += `\n*Subtotal:* UGX ${total.toLocaleString()}`;
      if (deliveryFee > 0) {
        message += `\n*Delivery:* ${deliveryText}`;
      }
      
      message += `\n*Grand Total: UGX ${(total + deliveryFee).toLocaleString()}*`;
      
      const phoneNumber = "256748218177";
      window.open(`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`, "_blank");
    }

    // --- Share Product Logic ---
    let currentProductToShare = {};

    function shareProduct(button) {
      const card = button.closest('.product-card');
      currentProductToShare = {
        id: card.id, // Capture the product's ID
        name: card.querySelector('h3').innerText,
        price: card.querySelector('.price').childNodes[0].nodeValue.trim()
      };
      
      // Open Modal instead of prompt
      document.getElementById('referralModal').style.display = 'flex';
      updateShareLink(); // Initialize link immediately
    }

    function closeReferralModal() {
      document.getElementById('referralModal').style.display = 'none';
    }

    function updateShareLink() {
      const referrerName = document.getElementById('referrerNameInput').value;
      let url = "https://fatumah-hash.github.io/fatumah_collections/products.html";
      
      if (referrerName) {
        url += `?ref=${encodeURIComponent(referrerName)}`;
      }
      
      // Add the product ID as a URL hash to scroll to it
      if (currentProductToShare.id) {
        url += `#${currentProductToShare.id}`;
      }
      
      const message = `Check out this ${currentProductToShare.name} for only ${currentProductToShare.price} at Fatumah Collections!\n${url}`;
      const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
      document.getElementById('whatsappShareLink').href = whatsappUrl;
    }

    // --- Review System Logic ---
    function openReviewModal() {
      document.getElementById('reviewModal').style.display = 'flex';
    }

    function closeReviewModal() {
      document.getElementById('reviewModal').style.display = 'none';
    }

    function submitReview() {
      const name = document.getElementById('reviewName').value;
      const rating = document.getElementById('reviewRating').value;
      const text = document.getElementById('reviewText').value;
      
      if(!name || !text) return showToast("Please fill in all fields");

      const message = `*NEW CUSTOMER REVIEW*\n\n*Name:* ${name}\n*Rating:* ${rating} Stars\n*Review:* ${text}`;
      const phoneNumber = "256748218177";
      
      window.open(`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`, "_blank");
      
      closeReviewModal();
      showToast("Review sent! Thank you.");
    }

    // --- Toast Notification Logic ---
    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.innerText = message;
      toast.className = "show";
      setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
    }

    // --- Back to Top Button Logic ---
    const mybutton = document.getElementById("backToTopBtn");

    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
      if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }

    function topFunction() {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }
  </script>

   <footer>
    <p>Â© 2026 Fatumah Collections</p>
    <p>Follow us on: 
      <a href="http://tiktok.com/@nekesafatumah">TikTok</a>
    </p>  
    <div style="margin-top: 15px;">
      <small>Total Visits:</small><br>
      <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Ffatumah-hash.github.io%2Ffatumah_collections%2F&count_bg=%23FF1493&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false" alt="Visitor Hits">
    </div>
  </footer>
</body>
</html>
